<%= form_with(model: [treino, dia_treino], class: "space-y-6") do |f| %>
  <%= f.label :nome, "Nome do Dia de Treino" %>
  <%= f.text_field :nome, class: "..." %>
  
  <h3 class="text-xl font-bold pt-4 border-t mt-6">Exercícios</h3>

  <div data-controller="exercicio-plano" data-exercicio-plano-target="list">
    <%= f.fields_for :exercicio_planos do |exercise_fields| %>
      <%= render 'dia_treinos/exercicios_planos_fields', form: exercise_fields %>
    <% end %>

    <template data-exercicio-plano-target="template">
      <%= f.fields_for :exercicio_planos, ExercicioPlano.new, child_index: "NEW_RECORD" do |exercise_fields| %>
        <%= render 'dia_treinos/exercicios_planos_fields', form: exercise_fields %>
      <% end %>
    </template>

    <%= link_to "Adicionar Exercício", "#", data: { action: "click->exercicio-plano#addField" }, class: "..." %>
  </div>

  <%= f.submit "Salvar Dia de Treino" %>
<% end %>